import"./ShopifyAnalytics.server.899c31c5.js";import{r as E}from"./index.42775f7d.js";import{j as v}from"./jsx-runtime.8ac64c0a.js";import{c as A}from"./clsx.m.256e9345.js";import"./storefront-api-types.474ec89c.js";import"./index.65f1d40b.js";const I=["cdn.shopify.com","cdn.shopifycdn.net","shopify-assets.shopifycdn.com","shopify-assets.shopifycdn.net"],C=["spin.dev"],D=[...I,...C],y=[352,832,1200,1920,2560];function x({src:t,width:e,height:n,crop:r,scale:o}){const u=new URL(t),i=o!=null?o:1;if(e){let c;typeof e=="string"?c=(y[0]*i).toString():c=(Number(e)*i).toString(),u.searchParams.append("width",c)}return n&&typeof n=="number"&&u.searchParams.append("height",(n*i).toString()),r&&u.searchParams.append("crop",r),u.toString()}function R(t){const e=new URL(t.src);return!D.some(r=>e.hostname.endsWith(r))||!t.width&&!t.height&&!t.crop&&!t.scale?t.src:x(t)}function U({data:t,loaderOptions:e,elementProps:n}){var o,u,i,c,d,h;let r=null;return(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&(r=(t==null?void 0:t.width)/(t==null?void 0:t.height)),(e==null?void 0:e.width)||(e==null?void 0:e.height)?{width:(o=e==null?void 0:e.width)!=null?o:r&&typeof e.height=="number"?Math.round(r*e.height):null,height:(u=e==null?void 0:e.height)!=null?u:r&&typeof e.width=="number"?Math.round(r*e.width):null}:(n==null?void 0:n.width)||(n==null?void 0:n.height)?{width:(i=n==null?void 0:n.width)!=null?i:r&&typeof n.height=="number"?Math.round(r*n.height):null,height:(c=n==null?void 0:n.height)!=null?c:r&&typeof n.width=="number"?Math.round(r*n.width):null}:(t==null?void 0:t.width)||(t==null?void 0:t.height)?{width:(d=t==null?void 0:t.width)!=null?d:null,height:(h=t==null?void 0:t.height)!=null?h:null}:{width:null,height:null}}function L(t){if(!t.data&&!t.src)throw new Error("<Image/>: requires either a 'data' or 'src' prop.");return __HYDROGEN_DEV__&&t.data&&t.src&&console.warn("<Image/>: using both 'data' and 'src' props is not supported; using the 'data' prop by default"),t.data?E.exports.createElement(M,{...t}):E.exports.createElement($,{...t})}function M({data:t,width:e,height:n,loading:r,loader:o=R,loaderOptions:u,widths:i,decoding:c="async",...d}){var f,l,g,m,b,T,p;if(!t.url)throw new Error("<Image/>: the 'data' prop requires the 'url' property");__HYDROGEN_DEV__&&!t.altText&&!d.alt&&console.warn(`<Image/>: the 'data' prop should have the 'altText' property, or the 'alt' prop, and one of them should not be empty. ${`Image: ${(f=t.id)!=null?f:t.url}`}`);const{width:h,height:a}=U({data:t,loaderOptions:u,elementProps:{width:e,height:n}});__HYDROGEN_DEV__&&(!h||!a)&&console.warn(`<Image/>: the 'data' prop requires either 'width' or 'data.width', and 'height' or 'data.height' properties. ${`Image: ${(l=t.id)!=null?l:t.url}`}`);let s=t.url;if(o&&(s=o({...u,src:t.url,width:h,height:a}),typeof s!="string"||!s))throw new Error(`<Image/>: 'loader' did not return a valid string. ${`Image: ${(g=t.id)!=null?g:t.url}`}`);const S=e&&h&&e<h?e:h,w=(m=d.srcSet)!=null?m:k({...u,widths:i,src:t.url,width:S,height:a,loader:o});return E.exports.createElement("img",{id:(b=t.id)!=null?b:"",alt:(p=(T=t.altText)!=null?T:d.alt)!=null?p:"",loading:r!=null?r:"lazy",...d,src:s,width:h!=null?h:void 0,height:a!=null?a:void 0,srcSet:w,decoding:c})}function $({src:t,width:e,height:n,alt:r,loader:o,loaderOptions:u,widths:i,loading:c,decoding:d="async",...h}){var S,w,f,l;if(!e||!n)throw new Error(`<Image/>: when 'src' is provided, 'width' and 'height' are required and need to be valid values (i.e. greater than zero). Provided values: 'src': ${t}, 'width': ${e}, 'height': ${n}`);if(__HYDROGEN_DEV__&&!r&&console.warn(`<Image/>: when 'src' is provided, 'alt' should also be provided. ${`Image: ${t}`}`),i&&Array.isArray(i)&&i.some(g=>isNaN(g)))throw new Error("<Image/>: the 'widths' property must be an array of numbers");let a=t;if(o&&(a=o({src:t,width:e,height:n,...u}),typeof a!="string"||!a))throw new Error("<Image/>: 'loader' did not return a valid string");let s=(S=h.srcSet)!=null?S:void 0;if(!s&&o&&i){const g=parseInt(n.toString())/parseInt(e.toString());s=(w=i==null?void 0:i.map(m=>parseInt(m,10)))==null?void 0:w.map(m=>`${o({...u,src:t,width:m,height:Math.floor(m*g)})} ${m}w`).join(", ")}return E.exports.createElement("img",{...h,src:a,width:(f=u==null?void 0:u.width)!=null?f:e,height:(l=u==null?void 0:u.height)!=null?l:n,alt:r!=null?r:"",loading:c!=null?c:"lazy",srcSet:s,decoding:d})}function k({src:t,width:e,crop:n,scale:r,widths:o,loader:u,height:i}){const c=o&&Array.isArray(o);if(c&&o.some(s=>isNaN(s)))throw new Error("<Image/>: the 'widths' must be an array of numbers");let d=1;e&&i&&(d=Number(i)/Number(e));let h=c?o:y;!c&&e&&e<y[y.length-1]&&(h=y.filter(s=>s<=e));const a=u||x;return h.map(s=>`${a({src:t,width:s,height:n?Number(s)*d:void 0,crop:n,scale:r})} ${s}w`).join(", ")}function G(){switch({BASE_URL:"/test-gh-pages/",MODE:"production",DEV:!1,PROD:!0}.PUBLIC_STORE_DOMAIN){case"culture-kings-2.myshopify.com":return"AU";case"culture-kings-nz.myshopify.com":return"NZ";case"culture-kings-us.myshopify.com":return"US";case"culture-kings-uat.myshopify.com":return"UAT";default:return"DEV"}}const V="culture-kings-static.imgix.net",P="culture-kings-sanity.imgix.net",Y={AU:"culture-kings.imgix.net",NZ:"culture-kings-nz.imgix.net",US:"culture-kings-us.imgix.net",UAT:"culture-kings-uat.imgix.net",DEV:"culture-kings-steadlane.imgix.net"};function H(t){return{sanity:P,static:V,shopify:Y[G()]}[t]}const N="https://place-hold.it/720x900";function q({src:t,width:e,height:n}){var u,i,c;if(!t)return N;const r=(c=(i=(u=t==null?void 0:t.split("/"))==null?void 0:u.pop())==null?void 0:i.split("?")[0])!=null?c:"";if(!r)return N;const o=new URL(`https://${H("shopify")}/products/${r}`);return o.searchParams.set("fit","crop"),o.searchParams.set("auto","compress,format"),e&&o.searchParams.set("w",e.toString()),n&&o.searchParams.set("h",n.toString()),o.toString()}function _({src:t,alt:e,className:n}){return v(L,{className:A("aspect-[4/5] w-full",n),src:t!=null?t:N,alt:e,width:720,height:900,loader:q,widths:[72,108,180,360,480,720]})}try{_.displayName="ProductImage",_.__docgenInfo={description:"",displayName:"ProductImage",props:{src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string"}},alt:{defaultValue:null,description:"",name:"alt",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/components/atoms/product-image.tsx#ProductImage"]={docgenInfo:_.__docgenInfo,name:"ProductImage",path:"src/components/atoms/product-image.tsx#ProductImage"})}catch{}var F={title:"Design System/Atoms/Product Image",component:_,parameters:{storySource:{source:`import {ComponentMeta, ComponentStory} from '@storybook/react';

import {ProductImage as ProductImageComponent} from './product-image';

// This story doesn't work due to __HYDROGEN_DEV__ isn't defined

export default {
  title: 'Design System/Atoms/Product Image',
  component: ProductImageComponent,
  parameters: {
    viewMode: 'docs',
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
    backgrounds: {
      values: [
        {name: 'white', value: '#fff'},
        {name: 'black', value: '#000'},
      ],
    },
  },
} as ComponentMeta<typeof ProductImageComponent>;

const Template: ComponentStory<typeof ProductImageComponent> = (args) => (
  <ProductImageComponent {...args} />
);

export const ProductImage = Template.bind({});
`,locationsMap:{"product-image":{startLoc:{col:63,line:26},endLoc:{col:1,line:28},startBody:{col:63,line:26},endBody:{col:1,line:28}}}},viewMode:"docs",previewTabs:{canvas:{hidden:!0}},backgrounds:{values:[{name:"white",value:"#fff"},{name:"black",value:"#000"}]}}};const B=t=>v(_,{...t}),J=B.bind({}),Q=["ProductImage"];export{J as ProductImage,Q as __namedExportsOrder,F as default};
//# sourceMappingURL=product-image.stories.e320cf0a.js.map
