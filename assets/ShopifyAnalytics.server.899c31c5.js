import{r as l,R as I}from"./index.42775f7d.js";import{a as ot,F as at,j as B}from"./jsx-runtime.8ac64c0a.js";import"./storefront-api-types.474ec89c.js";import{P as o}from"./index.65f1d40b.js";var W;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(W||(W={}));function w(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,a=r===void 0?"":r,c=t.hash,s=c===void 0?"":c;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}const st=l.exports.createContext(null);function ct(){var t;return(t=l.exports.useContext(st))!=null?t:{}}const it=l.exports.createContext(void 0);function G(){const t=l.exports.useContext(it);if(t)return t;throw new Error("Router hooks and <Link> component must be used within a <Router> component")}function z(){return G().location}const ut=l.exports.createContext({routeParams:{},basePath:"/"});function J(){return l.exports.useContext(ut).basePath}function lt(){const t=G(),e=J();return(n,r={replace:!1,reloadDocument:!1})=>{var c,s;n=Q((c=r.basePath)!=null?c:e,n);const a={...r==null?void 0:r.clientState,scroll:(s=r==null?void 0:r.scroll)!=null?s:!0};r!=null&&r.replace?t.history.replace(n,a):t.history.push(n,a)}}function Q(t,e){if(e.startsWith("http")||e.startsWith("//"))return e;let n=e;if(t!=="/"){const r=e.charAt(0),a=t.charAt(t.length-1);n=r==="/"&&a==="/"?t+e.substring(1):a!=="/"&&r!=="/"?t+"/"+e:t+e}return n}const ft="/__rsc";I.forwardRef(function(e,n){var K,F;const r=lt(),a=z(),[c,s]=I.useTransition(),i=J(),[T,P]=l.exports.useState(!1),[y,h]=l.exports.useState(!1),{reloadDocument:p,target:m,replace:b,onClick:g,clientState:R,prefetch:L=!0,scroll:v=!0}=e,f=Q((K=e.basePath)!=null?K:i,e.to),E=l.exports.useCallback(S=>{if(g&&g(S),!p&&S.button===0&&(!m||m==="_self")&&!ht(S)){S.preventDefault();const nt=!!b||w(a)===w({pathname:f});r(f,{replace:nt,scroll:v,clientState:R,basePath:"/"})}},[g,p,m,b,a,f,r,R,v]),C=()=>{s(()=>{L&&!!f&&h(!0)})},H=()=>{s(()=>{L&&h(!1)})};l.exports.useEffect(()=>{if(y){const S=setTimeout(()=>{P(!0)},100);return()=>{clearTimeout(S)}}},[y]);const X=O(e.onMouseEnter,C),Z=O(e.onMouseLeave,H),tt=O(e.onFocus,C),et=O(e.onBlur,H),rt=O(e.onTouchStart,C);return ot(at,{children:[B("a",{...pt(e,["to","replace","clientState","reloadDocument","prefetch","scroll"]),ref:n,rel:(F=e.rel)!=null?F:f.startsWith("http")||f.startsWith("//")?"noreferrer noopener":void 0,onClick:E,onMouseEnter:X,onMouseLeave:Z,onFocus:tt,onBlur:et,onTouchStart:rt,href:f,children:e.children}),T&&B(dt,{pathname:f})]})});function dt({pathname:t}){const{getProposedLocationServerProps:e}=ct(),n=z(),r=w({pathname:t});if(t.startsWith("http")||r===w(n))return null;const a=new URL(r,window.location.href),c=e({pathname:a.pathname,search:a.search}),s=`${ft}?state=`+encodeURIComponent(JSON.stringify(c));return B("link",{rel:"prefetch",as:"fetch",href:s})}function O(t,e){return n=>{t==null||t(n),n.defaultPrevented||e(n)}}function ht(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pt(t,e){const n={};for(const r of Object.keys(t))e.includes(r)||(n[r]=t[r]);return n}l.exports.createContext(null);l.exports.createContext(null);l.exports.createContext(null);const mt={PAGE_VIEW:"page-view",VIEWED_PRODUCT:"viewed-product",ADD_TO_CART:"add-to-cart",REMOVE_FROM_CART:"remove-from-cart",UPDATE_CART:"update-cart",DISCOUNT_CODE_UPDATED:"discount-code-updated",PERFORMANCE:"performance"};Object.values(mt);function q(){const t={};return{removeItem(e){delete t[e]},setItem(e,n){t[e]=n},getItem(e){return t[e]}}}(function(){try{return window.localStorage||q()}catch{return q()}})();l.exports.createContext(null);l.exports.createContext(null);var u={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Tt={rel:["amphtml","canonical","alternate"]},gt={type:["application/ld+json"]},yt={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]};Object.keys(u).map(function(t){return u[t]});var j={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.keys(j).reduce(function(t,e){return t[j[e]]=e,t},{});var bt=function(t){return Array.isArray(t)?t.join(""):t},D=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(a,c){for(var s=Object.keys(a),i=0;i<s.length;i+=1)if(c[s[i]]&&c[s[i]].includes(a[s[i]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},Ct=[u.NOSCRIPT,u.SCRIPT,u.STYLE],_=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},V=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[j[r]||r]=t[r],n},e)},k=function(t,e){return e.map(function(n,r){var a,c=((a={key:r})["data-rh"]=!0,a);return Object.keys(n).forEach(function(s){var i=j[s]||s;i==="innerHTML"||i==="cssText"?c.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:c[i]=n[s]}),I.createElement(t,c)})},d=function(t,e,n){switch(t){case u.TITLE:return{toComponent:function(){return a=e.titleAttributes,(c={key:r=e.title})["data-rh"]=!0,s=V(a,c),[I.createElement(u.TITLE,s,r)];var r,a,c,s},toString:function(){return function(r,a,c,s){var i=$(c),T=bt(a);return i?"<"+r+' data-rh="true" '+i+">"+_(T,s)+"</"+r+">":"<"+r+' data-rh="true">'+_(T,s)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return V(e)},toString:function(){return $(e)}};default:return{toComponent:function(){return k(t,e)},toString:function(){return function(r,a,c){return a.reduce(function(s,i){var T=Object.keys(i).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,p){var m=i[p]===void 0?p:p+'="'+_(i[p],c)+'"';return h?h+" "+m:m},""),P=i.innerHTML||i.cssText||"",y=Ct.indexOf(r)===-1;return s+"<"+r+' data-rh="true" '+T+(y?"/>":">"+P+"</"+r+">")},"")}(t,e,n)}}}},vt=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,a=t.htmlAttributes,c=t.noscriptTags,s=t.styleTags,i=t.title,T=i===void 0?"":i,P=t.titleAttributes,y=t.linkTags,h=t.metaTags,p=t.scriptTags,m={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var b=function(g){var R=g.linkTags,L=g.scriptTags,v=g.encode,f=D(g.metaTags,yt),E=D(R,Tt),C=D(L,gt);return{priorityMethods:{toComponent:function(){return[].concat(k(u.META,f.priority),k(u.LINK,E.priority),k(u.SCRIPT,C.priority))},toString:function(){return d(u.META,f.priority,v)+" "+d(u.LINK,E.priority,v)+" "+d(u.SCRIPT,C.priority,v)}},metaTags:f.default,linkTags:E.default,scriptTags:C.default}}(t);m=b.priorityMethods,y=b.linkTags,h=b.metaTags,p=b.scriptTags}return{priority:m,base:d(u.BASE,e,r),bodyAttributes:d("bodyAttributes",n,r),htmlAttributes:d("htmlAttributes",a,r),link:d(u.LINK,y,r),meta:d(u.META,h,r),noscript:d(u.NOSCRIPT,c,r),script:d(u.SCRIPT,p,r),style:d(u.STYLE,s,r),title:d(u.TITLE,{title:T,titleAttributes:P},r)}},M=[],St=function(t,e){var n=this;e===void 0&&(e=typeof document!="undefined"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?M:n.instances},add:function(r){(n.canUseDOM?M:n.instances).push(r)},remove:function(r){var a=(n.canUseDOM?M:n.instances).indexOf(r);(n.canUseDOM?M:n.instances).splice(a,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=vt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))};I.createContext({});var xt=o.shape({setHelmet:o.func,helmetInstances:o.shape({get:o.func,add:o.func,remove:o.func})});o.shape({helmet:o.shape()}),o.node.isRequired;xt.isRequired;o.object,o.object,o.oneOfType([o.arrayOf(o.node),o.node]),o.string,o.bool,o.bool,o.object,o.arrayOf(o.object),o.arrayOf(o.object),o.arrayOf(o.object),o.func,o.arrayOf(o.object),o.arrayOf(o.object),o.string,o.object,o.string,o.bool,o.object;new St({});const At=(t,...e)=>t.map((n,r)=>`${n}${e[r]||""}`).join("").replace(/\s+#.*$/gm,"").replace(/\s+/gm," ").trim();var x=!0,A=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{};if(A.process&&A.process.env&&A.process.stdout){var N=A.process.env,Y=N.FORCE_COLOR,Pt=N.NODE_DISABLE_COLORS,U=N.TERM;Pt||Y==="0"?x=!1:Y==="1"?x=!0:U==="dumb"?x=!1:"CI"in A.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(function(t){return t in A.process.env})?x=!0:x=process.stdout.isTTY,x&&U&&U.endsWith("-256color")}l.exports.createContext(null);At`
  query shopAnalyticsInfo {
    shop {
      id
      paymentSettings {
        currencyCode
      }
    }
  }
`;
//# sourceMappingURL=ShopifyAnalytics.server.899c31c5.js.map
