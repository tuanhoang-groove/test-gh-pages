{"version":3,"file":"modal.client.f9660b7b.js","sources":["../../node_modules/@heroicons/react/solid/esm/MenuIcon.js","../../src/hooks/use-event-listener.ts","../../src/hooks/use-selector-ref.ts","../../src/components/atoms/portal.client.tsx","../../src/components/molecules/modal.client.tsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction MenuIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(MenuIcon);\nexport default ForwardRef;","import {useEffect, useState} from 'react';\n\nexport function useEventListener(\n  event: string,\n  callback: () => void,\n  element?: HTMLElement,\n) {\n  const [target, setTarget] = useState<HTMLElement | Window | null>(null);\n\n  useEffect(() => {\n    setTarget(element ?? window);\n  }, [element]);\n\n  useEffect(() => {\n    if (target) {\n      target.addEventListener(event, callback);\n      return () => {\n        target.removeEventListener(event, callback);\n      };\n    }\n  }, [target, event, callback]);\n}\n","import {useCallback, useEffect, useRef} from 'react';\nimport {useEventListener} from '~/hooks/use-event-listener';\n\nexport function useSelectorRef(selector?: string) {\n  const appRef = useRef<HTMLElement | null>(null);\n\n  const handleLoadRef = useCallback(() => {\n    if (selector) {\n      appRef.current = document.querySelector(selector);\n    }\n  }, [selector]);\n\n  useEventListener('DOMContentLoaded', handleLoadRef);\n\n  useEffect(() => {\n    handleLoadRef();\n  }, [handleLoadRef]);\n\n  return appRef;\n}\n","import {isValidElement, ReactNode} from 'react';\nimport {createPortal} from 'react-dom';\nimport {useSelectorRef} from '~/hooks/use-selector-ref';\n\n// @ts-ignore\ninterface Props {\n  children?: ReactNode;\n  parent?: string;\n}\n\nexport function Portal({children, parent}: Props) {\n  const parentRef = useSelectorRef(parent);\n\n  if (!parentRef?.current) return isValidElement(children) ? children : null;\n\n  return createPortal(children, parentRef.current);\n}\n","import {\n  ComponentProps,\n  createContext,\n  MouseEventHandler,\n  ReactNode,\n  useCallback,\n  useState,\n} from 'react';\nimport clsx from 'clsx';\nimport {createContextHook} from '~/hooks/create-context-hook';\nimport {Portal} from '~/components/atoms/portal.client';\nimport {generateDataAttributes} from '~/lib/utils';\n\ninterface ContextValue {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n}\n\nconst initialValue: ContextValue = {\n  isOpen: false,\n  open: () => {},\n  close: () => {},\n};\n\nconst ModalContext = createContext(initialValue);\nconst ModalProvider = ModalContext.Provider;\nconst useModal = createContextHook({ModalContext});\n\ninterface PropsRoot {\n  children?: ReactNode;\n}\n\nexport function ModalRoot({children}: PropsRoot) {\n  const {isOpen: _isOpen} = initialValue;\n  const [isOpen, setIsOpen] = useState<ContextValue['isOpen']>(_isOpen);\n\n  const open = useCallback(() => {\n    setIsOpen(true);\n    document.body.classList.add('overflow-hidden');\n  }, [setIsOpen]);\n\n  const close = useCallback(() => {\n    setIsOpen(false);\n    document.body.classList.remove('overflow-hidden');\n  }, [setIsOpen]);\n\n  const value: ContextValue = {\n    isOpen,\n    open,\n    close,\n  };\n\n  return <ModalProvider value={value}>{children}</ModalProvider>;\n}\n\ninterface PropsTrigger extends ComponentProps<'button'> {}\n\nexport function ModalTrigger({onClick, ...props}: PropsTrigger) {\n  const {open} = useModal();\n\n  const handleOnClick: MouseEventHandler<HTMLButtonElement> = (event) => {\n    if (onClick) onClick(event);\n    open();\n  };\n\n  return <button onClick={handleOnClick} {...props} />;\n}\n\ninterface PropsExit extends ComponentProps<'button'> {}\n\nexport function ModalExit({children, onClick, ...props}: PropsExit) {\n  const {close} = useModal();\n\n  const handleOnClick: MouseEventHandler<HTMLButtonElement> = (event) => {\n    if (onClick) onClick(event);\n    close();\n  };\n\n  return (\n    <button aria-label=\"Exit\" onClick={handleOnClick} {...props}>\n      {children}\n    </button>\n  );\n}\n\ninterface PropsOverlay extends ComponentProps<'div'> {\n  parent?: string;\n}\n\nexport function ModalOverlay({className, parent, ...props}: PropsOverlay) {\n  const {isOpen} = useModal();\n\n  const data = generateDataAttributes({\n    'is-open': isOpen ?? undefined,\n  });\n\n  return (\n    <Portal parent={parent}>\n      <div\n        className={clsx(\n          'transition-all',\n          isOpen && 'opacity-1 pointer-events-auto',\n          !isOpen && 'opacity-0 pointer-events-none',\n          className,\n        )}\n        {...props}\n        {...data}\n      />\n    </Portal>\n  );\n}\n"],"names":["MenuIcon","props","svgRef","React.createElement","ForwardRef","React.forwardRef","MenuIcon$1","useEventListener","event","callback","element","target","setTarget","useState","useEffect","useSelectorRef","selector","appRef","useRef","handleLoadRef","useCallback","Portal","children","parentRef","parent","createPortal","isValidElement","initialValue","ModalContext","createContext","ModalProvider","useModal","createContextHook","ModalRoot","_isOpen","isOpen","setIsOpen","open","document","close","_jsx","ModalTrigger","onClick","handleOnClick","ModalExit","ModalOverlay","className","data","generateDataAttributes","undefined","clsx"],"mappings":"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"}